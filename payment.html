<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enrollment & Payment | Verita Campus</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="shortcut icon" type="image/png" href="assets/images/Verita Logo Symbol.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/css/intlTelInput.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        /* Navigation Bar */

        .navbar {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px 0;
            z-index: 1000;
            transition: var(--transition);
        }

        .navbar.transparent {
            background: transparent;
            box-shadow: none;
        }

        .navbar.solid {
            background: transparent;
            box-shadow: var(--shadow);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .nav-logo {
            height: 60px;
            transition: var(--transition);
            width: 17%;
            margin-left: -100px;
            margin-top: -4px;
            transform: translateX(-20%);
            cursor: pointer;
        }

        .nav-links ul {
            display: flex;
            gap: 20px;
        }

        .nav-links ul li a {
            color: rgb(255, 255, 255);
            font-weight: 600;
            padding: 8px 15px;
            border-radius: 5px;
            transition: var(--transition);
            position: relative;
        }

        .nav-links ul li a:hover {
            color: var(--secondary-color);
        }

        .nav-links ul li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: var(--secondary-color);
            transition: var(--transition);
        }

        .nav-links ul li a:hover::after {
            width: 70%;
        }

        .dropdown {
            position: relative;
        }

        .dropdown-content {
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--primary-color-2);
            min-width: 250px;
            max-width: 450px;
            border-radius: 5px;
            box-shadow: var(--shadow);
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: var(--transition);
            z-index: 100;
            width: fit-content;
            color: white;
        }

        .dropdown:hover .dropdown-content {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-content a {
            color: white;
            display: block;
            padding: 10px 15px;
            transition: var(--transition);
        }

        .dropdown-content a:last-child {
            border-bottom: none;
        }

        .dropdown-content a:hover {
            background: var(--dark-color);
            color: white;
            padding-left: 20px;
        }

        .dropdown-content a i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .dropdown .fas {
            color: var(--secondary-color);
        }

        .dropdown .fa-solid {
            color: var(--secondary-color);
        }

        .auth-buttons {
            display: flex;
            gap: 12px;
            transform: translateX(10%);
            margin-right: -30px;
        }

        .login-btn,
        .signup-btn {
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: 600;
            transition: var(--transition);
        }

        .login-btn i {
            color: var(--prime-color);
        }

        .signup-btn i {
            color: var(--primary-color-2);
        }

        .login-btn {
            background: transparent;
            color: rgb(0, 0, 0);
            border: 2px solid rgb(0, 0, 0);
        }

        .login-btn:hover {
            background: var(--primary-color-2);
            color: var(--primary-color);
            scale: 1.05;
        }

        .signup-btn {
            background: var(--secondary-color);
            color: var(--text-dark);
            border: 1px solid var(--secondary-color);
        }

        .signup-btn:hover {
            background: var(--dark-color);
            color: white;
            scale: 1.05;
            border: 1px solid var(--primary-color-2)
        }

        /* Payment Page Specific Styles */
        .enrollment-process {
            padding: 80px 0;
            background: #f9f9f9;
        }

        .process-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .process-steps {
            display: flex;
            justify-content: center;
            margin-bottom: 50px;
            position: relative;
        }

        .step-connector {
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 3px;
            background: #ddd;
            z-index: 1;
        }

        .step-connector-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: var(--primary-color);
            width: 50%;
            transition: width 0.5s ease;
        }

        .step {
            width: 120px;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: white;
            border: 3px solid #ddd;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 10px;
            font-weight: bold;
            color: #999;
            transition: all 0.3s ease;
        }

        .step.active .step-number {
            border-color: var(--primary-color);
            color: var(--primary-color);
            background: white;
        }

        .step.completed .step-number {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }

        .step-label {
            font-size: 0.9rem;
            color: #999;
            transition: all 0.3s ease;
        }

        .step.active .step-label,
        .step.completed .step-label {
            color: var(--dark-color);
            font-weight: 600;
        }

        .form-section {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
            display: none;
        }

        .form-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .form-header {
            margin-bottom: 30px;
            text-align: center;
        }

        .form-header h2 {
            font-size: 2rem;
            color: var(--dark-color);
            margin-bottom: 10px;
        }

        .form-header p {
            color: #666;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-grid-location {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 2fr));
            gap: 10px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .location select {
            max-width: 70%;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #444;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(29, 189, 101, 0.2);
            outline: none;
        }

        #phone {
            width: 300px;
            padding: 10px;
            font-size: 16px;
            text-indent: 40px;
        }

        .radio-group {
            display: flex;
            gap: 50px;
            align-items: center;
            margin-bottom: -50px;
            width: 90%;

        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            border: 2px solid #ccc;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: -50px;
            text-align: center;
        }

        .radio-option span {
            font-size: 14px;
            /* Adjust font size */
            display: inline-block;
            align-items: center;
            line-height: 1;
            text-align: left;
        }

        .radio-option.selected {
            border-color: #4CAF50;
            background-color: #f0fdf4;
        }

        .radio-option input[type="radio"]:checked+span {
            color: #4CAF50;
            font-weight: 600;
        }

        .radio-option input[type="radio"]:checked~.radio-option {
            border-color: #4CAF50;
        }

        .radio-option input[type="radio"] {
            appearance: none;
            width: 12px;
            height: 30px;
            border: 2px solid #666;
            border-radius: 50%;
            outline: none;
            cursor: pointer;
            position: relative;
            top: 5px;
        }

        .radio-option input[type="radio"]:checked::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 3px;
            width: 23px;
            height: 23px;
            background: #4CAF50;
            border-radius: 50%;
        }

        .radio-option:hover {
            border-color: #4CAF50;
            background-color: #f0fdf4;
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }

        .photo-upload {
            position: relative;
            width: 200px;
            height: 200px;
            margin-bottom: 20px;
            margin-left: 150px;
            text-align: center;
        }

        .photo-preview {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px dashed #ccc;
            background-color: #f5f5f5;
            background-size: cover;
            background-position: center;
            position: absolute;
            overflow: hidden;
        }

        .photo-upload input[type="file"] {
            display: none;
        }

        .upload-icon {
            position: absolute;
            bottom: 0;
            right: 10px;
            background-color: #4CAF50;
            color: white;
            border-radius: 55%;
            height: auto;
            width: 23%;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease;
        }

        .upload-icon:hover {
            background-color: var(--secondary-color);
        }

        .upload-label {
            cursor: pointer;
        }


        .btn {
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-outline:hover {
            background: rgba(29, 189, 101, 0.1);
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--dark-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(29, 189, 101, 0.3);
        }

        /* Payment Methods */
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .payment-method {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .payment-method:hover {
            border-color: var(--primary-color);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .payment-method.selected {
            border: 2px solid var(--primary-color);
            background: rgba(29, 189, 101, 0.05);
        }

        .payment-method.selected::after {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: -10px;
            right: -10px;
            width: 25px;
            height: 25px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .payment-method i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #555;
        }

        .payment-method.selected i {
            color: var(--primary-color);
        }

        .payment-method h3 {
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .payment-method p {
            font-size: 0.8rem;
            color: #777;
        }

        /* Course Summary */
        .course-summary {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .summary-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .summary-header h3 {
            font-size: 1.3rem;
            color: var(--dark-color);
        }

        .summary-price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .summary-details {
            margin-bottom: 20px;
        }

        .summary-details p {
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }

        .summary-details span:first-child {
            color: #666;
        }

        .summary-details span:last-child {
            font-weight: 600;
        }

        .summary-total {
            padding-top: 20px;
            border-top: 1px solid #eee;
            font-size: 1.2rem;
            font-weight: 700;
            display: flex;
            justify-content: space-between;
        }

        /* Confirmation Section */
        .confirmation-section {
            text-align: center;
            padding: 60px 0;
        }

        .confirmation-icon {
            width: 100px;
            height: 100px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 30px;
            font-size: 3rem;
            animation: bounceIn 0.8s ease;
        }

        .confirmation-section h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--dark-color);
        }

        .confirmation-section p {
            font-size: 1.1rem;
            color: #666;
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .confirmation-grid {
  display: grid;
  grid-template-columns: 4fr 1fr;
  gap: 15px;
}
.confirmation-grid p {
  margin: 0;
}


        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounceIn {
            0% {
                transform: scale(0.5);
                opacity: 0;
            }

            50% {
                transform: scale(1.2);
                opacity: 1;
            }

            100% {
                transform: scale(1);
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .process-steps {
                flex-wrap: wrap;
                gap: 20px;
            }

            .step-connector {
                display: none;
            }

            .form-actions {
                flex-direction: column;
                gap: 15px;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>

<body>
    <!-- Preloader -->
    <div class="preloader">
        <div class="loader">
            <div class="loader-logo">
                <img src="Assets/images/Verita Logo Symbol.png" alt="Verita Logo">
            </div>
            <div class="loader-text">PROCESSING ENROLLMENT</div>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar solid">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">
                    <img src="Assets/images/Verita Campus Dark Logo (vertical).png" alt="Verita Logo"></a>
            </div>
            <div class="nav-links">
                <ul>
                    <li><a href="index.html" style="color:rgb(0, 0, 0);">Home</a></li>
                    <li class="dropdown">
                        <a href="#" style="color:rgb(0, 0, 0);">Courses <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-content">
                            <a href="short_courses.html"><i class="fas fa-bolt"></i> Short Courses</a>
                            <a href="#"><i class="fas fa-road"></i> Verita Avenue</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="benefits.html" style="color:rgb(0, 0, 0);">Benefits <i
                                class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-content">
                            <a href="benefit-upskill.html"><i class="fa-solid fa-user-doctor"></i>Upskill & Earn Smarter</a>
                            <a href="benefit-entrepreneurship.html"><i class="fas fa-lightbulb"></i>Entrepreneurship &
                                Career Empowerment </a>
                            <a href="benefit-mentorship.html"><i class="fa-solid fa-person-chalkboard"></i>Professional
                                mentorship</a>
                            <a href="benefit-networking.html"><i class="fas fa-network-wired"></i>Networking
                                Opportunities</a>
                            <a href="benefit-global.html"><i class="fas fa-globe"></i>Global community & Global
                                platforms</a>
                        </div>
                    </li>
                    <li><a href="about.html" style="color:rgb(0, 0, 0);">About Us</a></li>
                    <li><a href="#" style="color:rgb(0, 0, 0);">Community</a></li>
                </ul>
            </div>
            <div class="auth-buttons" style="display:none;">
                <button class="login-btn" onclick="window.location.href='login.html'"><i
                        class="ri-login-circle-line"></i> Log In</button>
            </div>
            <div class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- Enrollment Process -->
    <section class="enrollment-process">
        <div class="process-container">
            <!-- Process Steps -->
            <div class="process-steps">
                <div class="step-connector">
                    <div class="step-connector-progress" id="stepProgress"></div>
                </div>
                <div class="step completed" id="step1">
                    <div class="step-number">1</div>
                    <div class="step-label">Personal Info</div>
                </div>
                <div class="step active" id="step2">
                    <div class="step-number">2</div>
                    <div class="step-label">Payment</div>
                </div>
                <div class="step" id="step3">
                    <div class="step-number">3</div>
                    <div class="step-label">Confirmation</div>
                </div>
            </div>

            <!-- Personal Information Form -->
            <div class="form-section active" id="personalInfoForm">
                <div class="form-header">
                    <h2>Student Information</h2>
                    <p>Tell us a bit about yourself to complete your enrollment</p>
                </div>

                <form id="enrollmentForm">
                    <div class="form-grid">

                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName" name="firstName" >
                        </div>
                        <div class="form-group">
                            <label for="lastName">Middle Name</label>
                            <input type="text" id="middleName" name="middleName" >
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" name="lastName" >
                        </div>
                    </div>


                    <div class="form-grid">
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" >
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" >

                        </div>
                        <div class="form-group">
                            <label>Gender</label>
                            <div class="radio-group">
                                <label class="radio-option">
                                    <input type="radio" name="gender" value="male"
                                        onchange="setGenderPlaceholder('male')" >
                                    <span>Male</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="gender" value="female"
                                        onchange="setGenderPlaceholder('female')">
                                    <span>Female</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group location">
                            <label for="location">Country</label>
                            <select id="countrySelect" name="country" >
                                <option value="">Select your Country</option>
                            </select>
                        </div>
                        <div class="form-group loctaion" style="width: 70%; margin-left:-170px;">
                            <label for="location">City</label>
                            <select id="citySelect" name="city" >
                                <option value="">Select your City</option>
                        </div>

                        <div class="form-group loctaion">
                            <label for="location" style="position: absolute; z-index:100;">Home Address</label>
                            <input type="text" id="home_address" name="home_address"
                                style="position:absolute; width: 85%; margin-left:10px;"
                                placeholder="Home Adress (optional)">
                        </div>
                    </div>



                    <div class="form-grid">
                        <div class="form-group">
                            <label for="position">Current Position</label>
                            <select id="position" name="position" >
                                <option value="">Select your position</option>
                                <option value="student">Student</option>
                                <option value="working">Working Professional</option>
                                <option value="freelancer">Freelancer</option>
                                <option value="ceo">CEO/Executive</option>
                                <option value="manager">Manager</option>
                                <option value="teacher">Teacher/Educator</option>
                                <option value="unemployed">Currently Unemployed</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="organization">School/Organization(Optional)</label>
                            <input type="text" id="organization" name="organization">
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="reason">Reason for Joining</label>
                            <select id="reason" name="reason" required>
                                <option value="">Select your reason</option>
                                <option value="career-change">Career Change</option>
                                <option value="skill-upgrade">Upgrade Skills</option>
                                <option value="promotion">Prepare for Promotion</option>
                                <option value="entrepreneurship">Start a Business</option>
                                <option value="personal-growth">Personal Growth</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="field">Current Field</label>
                            <select id="field" name="field" required>
                                <option value="">Select your field</option>
                                <option value="it">Information Technology</option>
                                <option value="business">Business/Management</option>
                                <option value="healthcare">Healthcare</option>
                                <option value="education">Education</option>
                                <option value="engineering">Engineering</option>
                                <option value="finance">Finance/Accounting</option>
                                <option value="marketing">Marketing/Sales</option>
                                <option value="arts">Arts/Design</option>
                                <option value="science">Science/Research</option>
                                <option value="other">Other Field</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="expectations">What do you hope to achieve from this course?</label>
                            <textarea id="expectations" name="expectations" rows="4"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="studentPhoto" style="text-align:center; margin-left:-30px;">Student
                                Photo</label>
                            <div class="photo-upload">
                                <label for="studentPhoto" class="upload-label">
                                    <div class="photo-preview" id="photoPreview"
                                        style="background-image:url('https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png');">
                                    </div>
                                    <div class="upload-icon">
                                        <i class="fas fa-camera"></i>
                                    </div>
                                </label>
                                <input type="file" id="studentPhoto" name="studentPhoto" accept="image/*"
                                    onchange="previewPhoto(event)">
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline"
                            onclick="window.location.href='short_courses.html'">
                            <i class="fas fa-arrow-left"></i> Back to Courses
                        </button>
                        <button type="button" class="btn btn-primary" id="nextToPayment">
                            Continue to Payment <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Payment Section -->
            <div class="form-section" id="paymentForm">
                <div class="form-header">
                    <h2>Complete Your Enrollment</h2>
                    <p>Select your payment method and complete your registration</p>
                </div>

                <div class="form-grid">
                    <div>
                        <!-- Course Summary -->
                        <div class="course-summary">
                            <div class="summary-header">
                                <h3>Course Summary</h3>
                                <div class="summary-price" id="coursePrice">$100</div>
                            </div>
                            <div class="summary-details">
                                <p>
                                    <span>Selected Course:</span>
                                    <span id="selectedCourse">Software & IT Professional Course</span>
                                </p>
                                <p>
                                    <span>Duration:</span>
                                    <span id="courseDuration">8 Weeks</span>
                                </p>
                                <p>
                                    <span>Start Date:</span>
                                    <span id="courseStart">Next Available Intake</span>
                                </p>
                                <p>
                                    <span>Discount:</span>
                                    <span id="courseDiscount">- $0</span>
                                </p>
                            </div>
                            <div class="summary-total">
                                <span>Total Amount:</span>
                                <span id="courseTotal">$100</span>
                            </div>
                        </div>

                        <!-- Course Selection -->
                        <div class="form-group">
                            <label for="courseSelect">Select Course</label>
                            <select id="courseSelect" class="form-control" onchange="updateCourseDetails()">
                                <option value="software-it" data-price="0.01" data-duration="8 weeks">Software & IT
                                </option>
                                <option value="architecture" data-price="95" data-duration="8 weeks">Architecture &
                                    Construction</option>
                                <option value="law" data-price="75" data-duration="6 weeks">Law & Advocacy</option>
                                <option value="health" data-price="80" data-duration="6 weeks">Clinical & Health
                                    Sciences</option>
                                <option value="business" data-price="50" data-duration="6 weeks">Business Management
                                </option>
                                <option value="finance" data-price="50" data-duration="6 weeks">Finance & Accounting
                                </option>
                                <option value="marketing" data-price="70" data-duration="6 weeks">Digital Marketing
                                </option>
                                <option value="data-science" data-price="105" data-duration="8 weeks">Data Science
                                </option>
                                <option value="cybersecurity" data-price="100" data-duration="7 weeks">Cybersecurity
                                </option>
                                <option value="ai" data-price="110" data-duration="9 weeks">AI & Machine Learning
                                </option>
                                <option value="graphic-design" data-price="60" data-duration="6 weeks">Graphic Design
                                </option>
                                <option value="photography" data-price="70" data-duration="7 weeks">Photography</option>
                            </select>
                        </div>
                    </div>

                    <div>
                        <!-- Payment Methods -->
                        <div class="form-group">
                            <label>Select Payment Method</label>
                            <div class="payment-methods">
                                <div class="payment-method selected" data-method="mpesa"
                                    onclick="selectPaymentMethod(this)">
                                    <i class="fas fa-mobile-alt"></i>
                                    <h3>M-Pesa</h3>
                                    <p>Mobile Money Payment</p>
                                </div>
                                <div class="payment-method" data-method="visa" onclick="selectPaymentMethod(this)">
                                    <i class="fab fa-cc-visa"></i>
                                    <h3>Visa</h3>
                                    <p>Credit/Debit Card</p>
                                </div>
                                <div class="payment-method" data-method="mastercard"
                                    onclick="selectPaymentMethod(this)">
                                    <i class="fab fa-cc-mastercard"></i>
                                    <h3>Mastercard</h3>
                                    <p>Credit/Debit Card</p>
                                </div>
                                <div class="payment-method" data-method="paypal" onclick="selectPaymentMethod(this)">
                                    <i class="fab fa-paypal"></i>
                                    <h3>PayPal</h3>
                                    <p>Secure Online Payment</p>
                                </div>
                                <div class="payment-method" data-method="bank" onclick="selectPaymentMethod(this)">
                                    <i class="fas fa-university"></i>
                                    <h3>Bank Transfer</h3>
                                    <p>Direct Bank Payment</p>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Details -->
                        <div id="mpesaDetails" class="payment-details">
                            <button class="btn btn-primary" style="width: 100%;" onclick="processPayment()">
                                <i class="fas fa-mobile-alt"></i> Pay via M-Pesa
                            </button>
                        </div>

                        <div id="cardDetails" class="payment-details" style="display: none;">
                            <button class="btn btn-primary" style="width: 100%;" onclick="processPayment()">
                                <i class="fas fa-lock"></i> Pay Securely
                            </button>
                        </div>

                        <div id="paypalDetails" class="payment-details" style="display: none;">
                            <p style="text-align: center; margin: 20px 0;">
                                You will be redirected to PayPal to complete your payment securely.
                            </p>
                            <button class="btn btn-primary" style="width: 100%; background: #003087;"
                                onclick="processPayment()">
                                <i class="fab fa-paypal"></i> Pay with PayPal
                            </button>
                        </div>

                        <div id="bankDetails" class="payment-details" style="display: none;">
                            <button class="btn btn-primary" style="width: 100%;" onclick="processPayment()">
                                <i class="fas fa-check-circle"></i> I've Made the Transfer
                            </button>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-outline" onclick="backToPersonalInfo()">
                        <i class="fas fa-arrow-left"></i> Back to Personal Info
                    </button>
                    <div style="text-align: center;">
                        <p style="font-size: 0.9rem; color: #666; margin-bottom: 10px;">
                            <i class="fas fa-lock"></i> Your information is secure and encrypted
                        </p>
                    </div>
                </div>
            </div>

            <!-- Confirmation Section -->
            <div class="form-section" id="confirmationSection">
                <div class="confirmation-section">
                    <div class="confirmation-icon">
                        <i class="fas fa-check"></i>
                    </div>
                    <h2>Enrollment Successful!</h2>
                    <p>Thank you for enrolling in our course. We've sent a confirmation email with all the details to
                        your registered email address.</p>
                    <div id="confirmationDetails" style="text-align:left; max-width:600px; margin: 30px auto; font-size: 1rem; background: #f8f8f8; padding: 20px; border-radius: 10px;">
                        <h3 style="margin-bottom: 15px; color: #333;">Enrollment Summary:</h3>
                        <div class="confirmation-grid">
                            <p><strong>Name:</strong> <span id="confirmName"></span></p>
                            <p><strong>Gender:</strong> <span id="confirmGender"></span></p>
                            <p><strong>Phone:</strong> <span id="confirmPhone"></span></p>
                            <p><strong>Email:</strong> <span id="confirmEmail"></span></p>
                            <p><strong>Country:</strong> <span id="confirmCountry"></span></p>
                            <p><strong>City:</strong> <span id="confirmCity"></span></p>
                            <p><strong>Position:</strong> <span id="confirmPosition"></span></p>
                            <p><strong>Organization:</strong> <span id="confirmOrg"></span></p>
                            <p><strong>Reason for Joining:</strong> <span id="confirmReason"></span></p>
                            <p><strong>Field:</strong> <span id="confirmField"></span></p>
                            <p><strong>Course:</strong> <span id="confirmCourse"></span></p>
                            <p><strong>Duration:</strong> <span id="confirmDuration"></span></p>
                            <p><strong>Total Paid:</strong> <span id="confirmPrice"></span></p>
                        <div class="confirmation-grid">
                            <div class="form-group">
                            <label for="studentPhoto" style="text-align:center; margin-left:-30px;">Student
                                Photo</label>
                            <div class="photo-upload">
                                <label for="studentPhoto" class="upload-label">
                                    <div class="photo-preview" id="photoPreview"
                                        style="background-image:url('https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png');">
                                    </div>
                                    <div class="upload-icon">
                                        <i class="fas fa-camera"></i>
                                    </div>
                                </label>
                                <input type="file" id="studentPhoto" name="studentPhoto" accept="image/*"
                                    onchange="previewPhoto(event)">
                            </div>
                        </div>
</div>


                        </div>
                    </div>
                    <p>Your learning journey starts now!</p>
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button class="btn btn-primary" onclick="window.location.href='short_courses.html'">
                            <i class="fas fa-book-open"></i> Explore More Courses
                        </button>
                        <button class="btn btn-outline" onclick="window.location.href='index.html'">
                            <i class="fas fa-home"></i> Back to Home
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-grid">
                <div class="footer-logo">
                    <img src="assets/images/Verita Campus Logo 1.2.png" alt="Verita Logo">
                    <p>Professional education for career advancement and personal growth.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/profile.php?id=61577901089355"><i
                                class="fab fa-facebook-f"></i></a>
                        <a href="https://x.com/home"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com/verita_learning/"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.tiktok.com/@verita_learning"><i class="fab fa-tiktok"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="about.html"><i class="fas fa-chevron-right"></i> About Us</a></li>
                        <li><a href="short_courses.html"><i class="fas fa-chevron-right"></i> Courses</a></li>
                        <li><a href="contact.html"><i class="fas fa-chevron-right"></i> Contact</a></li>
                        <li><a href="contact.html#faq"><i class="fas fa-chevron-right"></i> FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h3>Courses</h3>
                    <ul>
                        <li><a href="short_courses.html"><i class="fas fa-chevron-right"></i> Short Courses</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Verita Avenue</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Corporate Training</a></li>
                        <li><a href="#"><i class="fas fa-chevron-right"></i> Upcoming Programs</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Contact Us</h3>
                    <ul>
                        <li><i class="fas fa-envelope"></i> info@veritacampus.com</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="copyright">
                    <p>&copy; 2025 Verita Campus. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button class="back-to-top ripple">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="assets/js/main.js"></script>
    <script src="assets/js/payment.js"></script>
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/js/intlTelInput.min.js"></script>
    <script>
        // Form Navigation
        document.getElementById('nextToPayment').addEventListener('click',function() {
            // Validate form before proceeding
            const form=document.getElementById('enrollmentForm');
            if(form.checkValidity()) {
                document.getElementById('personalInfoForm').classList.remove('active');
                document.getElementById('paymentForm').classList.add('active');

                // Update progress steps
                document.getElementById('step1').classList.remove('active');
                document.getElementById('step1').classList.add('completed');
                document.getElementById('step2').classList.add('active');
                document.getElementById('stepProgress').style.width='50%';
            } else {
                form.reportValidity();
            }
        });

        function backToPersonalInfo() {
            document.getElementById('paymentForm').classList.remove('active');
            document.getElementById('personalInfoForm').classList.add('active');

            // Update progress steps
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step1').classList.add('active');
            document.getElementById('stepProgress').style.width='0%';
        }

        // Payment Method Selection
        function selectPaymentMethod(element) {
            // Remove selected class from all methods
            document.querySelectorAll('.payment-method').forEach(method => {
                method.classList.remove('selected');
            });

            // Add selected class to clicked method
            element.classList.add('selected');

            // Show corresponding payment details
            const method=element.getAttribute('data-method');
            document.querySelectorAll('.payment-details').forEach(details => {
                details.style.display='none';
            });

            if(method==='mpesa') {
                document.getElementById('mpesaDetails').style.display='block';
            } else if(method==='visa'||method==='mastercard') {
                document.getElementById('cardDetails').style.display='block';
            } else if(method==='paypal') {
                document.getElementById('paypalDetails').style.display='block';
            } else if(method==='bank') {
                document.getElementById('bankDetails').style.display='block';
            }
        }

        // Update Course Details
        function updateCourseDetails() {
            const select=document.getElementById('courseSelect');
            const selectedOption=select.options[select.selectedIndex];

            document.getElementById('selectedCourse').textContent=selectedOption.text;
            document.getElementById('coursePrice').textContent='$'+selectedOption.getAttribute('data-price');
            document.getElementById('courseDuration').textContent=selectedOption.getAttribute('data-duration');
            document.getElementById('courseTotal').textContent='$'+selectedOption.getAttribute('data-price');
        }

        // Process Payment
        async function processPayment() {
            const email=document.getElementById('email').value;
            const phone=document.getElementById('phone').value;
            const firstName=document.getElementById('firstName').value;
            const lastName=document.getElementById('lastName').value;
            const middleName=document.getElementById('middleName').value;

            const courseSelect=document.getElementById('courseSelect');
            const selectedOption=courseSelect.options[courseSelect.selectedIndex];
            const usdPrice=parseFloat(selectedOption.getAttribute('data-price'));
            const courseName=selectedOption.text;

            // 1 Determine preferred currency
            let country=document.getElementById('position').value; // adjust ID if needed
            let currency='KES'; // default

            if(country==='Nigeria') currency='NGN';
            else if(country==='Ghana') currency='GHS';
            else if(country==='South Africa') currency='ZAR';
            else if(country==='Kenya') currency='KES';
            else if(country==='Uganda') currency='USD';
            else if(country==='Tanzania') currency='USD';
            else if(country==='Rwanda') currency='USD';
            else if(country==='Zambia') currency='USD';
            else if(country==='Zimbabwe') currency='USD';

            // 2 Fetch live conversion rate if not USD
            let amountInLocal=usdPrice;
            if(currency!=='USD') {
                try {
                    const res=await fetch(`https://v6.exchangerate-api.com/v6/bf2b28df0caa565807051044/latest/USD`);
                    const data=await res.json();
                    const rate=data.conversion_rates[currency];
                    if(rate) {
                        amountInLocal=usdPrice*rate;
                    } else {
                        alert("Currency conversion failed. Using USD amount.");
                    }
                } catch(error) {
                    console.error("Error fetching exchange rates:",error);
                    alert("Could not fetch exchange rate. Using USD amount.");
                }
            }

            let handler=PaystackPop.setup({
                key: 'pk_live_fa8f3815773dbd80f25941478141affc1ac37ae7',
                email: email,
                amount: Math.round(amountInLocal*100), // convert to kobo/pesewa/cents
                currency: currency,
                metadata: {
                    custom_fields: [
                        {
                            display_name: "Student Name",
                            variable_name: "student_name",
                            value: firstName+" "+middleName+" "+lastName
                        },
                        {
                            display_name: "Phone",
                            variable_name: "phone",
                            value: phone
                        },
                        {
                            display_name: "Course",
                            variable_name: "course",
                            value: courseName
                        },
                        {
                            display_name: "Country",
                            variable_name: "country",
                            value: document.getElementById('countrySelect').value
                        },
                        {
                            display_name: "City",
                            variable_name: "city",
                            value: document.getElementById('citySelect').value
                        },
                        {
                            display_name: "Gender",
                            variable_name: "gender",
                            value: document.querySelector('input[name="gender"]:checked')?.value||''
                        },
                        {
                            display_name: "Position",
                            variable_name: "position",
                            value: document.getElementById('position').value
                        },
                        {
                            display_name: "Field",
                            variable_name: "field",
                            value: document.getElementById('field').value
                        }
                    ]
                },
        callback: function(response) {
                    saveEnrollment(response.reference);
                    setTimeout(() => {
                        showConfirmationSection(); // Show confirmation step after payment
                    },500); // slight delay to ensure any async saveEnrollment doesn't interfere
                },
                onClose: function() {
                    alert('Payment window closed.');
                }
            });
            handler.openIframe();
        }

        //** confirmation section **//
        function showConfirmationSection() {
            // Hide other steps
            document.getElementById('personalInfoForm').classList.remove('active');
            document.getElementById('paymentForm').classList.remove('active');

            // Show Confirmation
            document.getElementById('confirmationSection').classList.add('active');

            // Step Progress
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step2').classList.add('completed');
            document.getElementById('step3').classList.add('active');
            document.getElementById('stepProgress').style.width='100%';

            // Get values
            const firstName=document.getElementById('firstName')?.value||'';
            const middleName=document.getElementById('middleName')?.value||'';
            const lastName=document.getElementById('lastName')?.value||'';
            const email=document.getElementById('email')?.value||'';
            const phone=document.getElementById('phone')?.value||'';
            const gender=document.querySelector('input[name="gender"]:checked')?.value||'';
            const country=document.getElementById('countrySelect')?.value||'';
            const city=document.getElementById('citySelect')?.value||'';
            const position=document.getElementById('position')?.value||'';
            const organization=document.getElementById('organization')?.value||'';
            const reason=document.getElementById('reason')?.value||'';
            const field=document.getElementById('field')?.value||'';
            const course=document.getElementById('courseSelect')?.selectedOptions[0].text;
            const duration=document.getElementById('courseDuration')?.textContent||'';
            const total=document.getElementById('courseTotal')?.textContent||'';

            // Fill confirmation section
            document.getElementById('confirmName').textContent=`${firstName} ${middleName} ${lastName}`;
            document.getElementById('confirmEmail').textContent=email;
            document.getElementById('confirmPhone').textContent=phone;
            document.getElementById('confirmGender').textContent=gender;
            document.getElementById('confirmCountry').textContent=country;
            document.getElementById('confirmCity').textContent=city;
            document.getElementById('confirmPosition').textContent=position;
            document.getElementById('confirmOrg').textContent=organization;
            document.getElementById('confirmReason').textContent=reason;
            document.getElementById('confirmField').textContent=field;
            document.getElementById('confirmCourse').textContent=course;
            document.getElementById('confirmDuration').textContent=duration;
            document.getElementById('confirmPrice').textContent=total;
        }


        // Initialize form
        document.addEventListener('DOMContentLoaded',function() {
            updateCourseDetails();
        });


        async function saveEnrollment(reference) {
            const photoInput=document.getElementById('studentPhoto');
            const file=photoInput.files[0];
            let photo_url='';

            if(file) {
                photo_url=await uploadPhotoToSupabase(file,document.getElementById('email').value);
            }

            const studentData={
                first_name: document.getElementById('firstName').value,
                middle_name: document.getElementById('middleName').value,
                last_name: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                gender: document.querySelector('input[name="gender"]:checked')?.value||'',
                country: document.getElementById('countrySelect').value,
                city: document.getElementById('citySelect').value,
                address: document.getElementById('home_address').value,
                position: document.getElementById('position').value,
                organization: document.getElementById('organization').value,
                reason: document.getElementById('reason').value,
                field: document.getElementById('field').value,
                expectations: document.getElementById('expectations').value,
                photo_url: photo_url||(gender==='male'? defaultMale:defaultFemale), // fallback default

                payment_reference: reference
            };

            const courseCode=document.getElementById('courseSelect').value;

            try {
                const response=await fetch('/api/enroll',{
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({studentData,courseCode})
                });

                const result=await response.json();
                if(!response.ok) {
                    console.error(result.error||'Unknown error');
                    alert('Something went wrong saving your enrollment.');
                }
            } catch(error) {
                console.error('Save enrollment error:',error);
                alert('Could not save enrollment.');
            }
        }

        //** Country and City Loading **//
        async function loadCountries() {
            const res=await fetch('https://countriesnow.space/api/v0.1/countries/positions');
            const data=await res.json();
            const countrySelect=document.getElementById('countrySelect');
            data.data.forEach(country => {
                const option=document.createElement('option');
                option.value=country.name;
                option.text=country.name;
                countrySelect.appendChild(option);
            });
        }

        async function loadCities(countryName) {
            const res=await fetch('https://countriesnow.space/api/v0.1/countries/cities',{
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({country: countryName})
            });
            const data=await res.json();
            const citySelect=document.getElementById('citySelect');
            citySelect.innerHTML=''; // Clear previous cities
            data.data.forEach(city => {
                const option=document.createElement('option');
                option.value=city;
                option.text=city;
                citySelect.appendChild(option);
            });
        }

        document.getElementById('countrySelect').addEventListener('change',(e) => {
            loadCities(e.target.value);
        });

        loadCountries();

        const input=document.querySelector("#phone");
        const iti=window.intlTelInput(input,{
            initialCountry: "auto",
            geoIpLookup: function(success,failure) {
                fetch("https://ipinfo.io?3af244975ce387")
                    .then(resp => resp.json())
                    .then(resp => success(resp.country))
                    .catch(() => success("us"));
            },
            utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/js/utils.js", // for formatting/validation
        });
    </script>

    <script>
        //**Photo change**//
        const defaultMale="https://www.w3schools.com/w3images/avatar2.png"; // or any male placeholder
        const defaultFemale="https://www.w3schools.com/w3images/avatar6.png"; // or any female placeholder
        const defaultNeutral="https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"; // neutral placeholder
        let uploadedImage=null;

        function setGenderPlaceholder(gender) {
            const preview=document.getElementById('photoPreview');
            if(!uploadedImage) {
                preview.style.backgroundImage=`url('${gender==='male'? defaultMale:defaultFemale}')`;
            }
        }

        function previewPhoto(event) {
            const file=event.target.files[0];
            const preview=document.getElementById('photoPreview');

            if(file&&file.type.startsWith('image/')) {
                const reader=new FileReader();
                reader.onload=function(e) {
                    preview.style.backgroundImage=`url('${e.target.result}')`;
                    uploadedImage=e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function previewNewPhoto() {
  const file = document.getElementById('editPhoto').files[0];
  if (file && file.type.startsWith('image/')) {
    const reader = new FileReader();
    reader.onload = function(e) {
      document.getElementById('confirmPhoto').src = e.target.result;
      uploadedImage = file; // hold it for re-upload
    };
    reader.readAsDataURL(file);
  }
}

    </script>
    <script>
        async function uploadPhotoToSupabase(file,studentEmail) {
            const fileName=`${studentEmail}_${Date.now()}.jpg`;
            const {data,error}=await supabase.storage
                .from('student-photos') // Make sure this bucket exists
                .upload(fileName,file,{
                    cacheControl: '3600',
                    upsert: false,
                    contentType: file.type
                });

            if(error) {
                console.error("Photo upload error:",error);
                return null;
            }

            return `${supabaseURL}/storage/v1/object/public/student-photos/${fileName}`;
        }
    </script>

</body>

</html>